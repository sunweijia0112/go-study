### 变量声明

```text
var 变量名字 类型 = 表达式
```

- “类型”或“= 表达式”两个部分可以省略其中的一个
- 如果省略的是类型信息，那么将根据初始化表达式来推导变量的类型信息
- 如果初始化表达式被省略，那么将用零值初始化该变量
- 数值类型变量对应的零值是0，布尔类型变量对应的零值是false，字符串类型对应的零值是空字符串，接口或引用类型（包括slice、指针、map、chan和函数）变量对应的零值是nil
- 数组或结构体等聚合类型对应的零值是每个元素或字段都是对应该类型的零值

### 声明并初始化一组变量

```text
var i, j, k int                 // int, int, int
var b, f, s = true, 2.3, "four" // bool, float64, string
var f, err = os.Open(name)      // os.Open returns a file and an error

```

### 变量初始化时间点

- 在包级别声明的变量会在main入口函数执行前完成初始化
- 局部变量将在声明语句被执行到的时候完成初始化


### 简短变量声明
- 简短变量声明被广泛用于大部分的局部变量的声明和初始化
- var形式的声明语句往往是用于需要显式指定变量类型的地方，或者因为变量稍后会被重新赋值而初始值无关紧要的地方


```text
名字 := 表达式  // 变量的类型根据表达式来自动推导
```

```text
anim := gif.GIF{LoopCount: nframes}
freq := rand.Float64() * 3.0
t := 0.0
```


简短变量声明语句也可以用来声明和初始化一组变量,但是这种同时声明多个变量的方式应该限制只在可以提高代码可读性的地方使用，比如for语句的循环的初始化语句部分。

```text
i, j := 0, 1
```

简短变量声明左边的变量可能并不是全部都是刚刚声明的。如果有一些已经在相同的词法域声明过了，那么简短变量声明语句对这些已经声明过的变量就只有赋值行为了，如下代码所示

```text
in, err := os.Open(infile)
// ...
out, err := os.Create(outfile)
```

简短变量声明语句中必须至少要声明一个新的变量
```text
f, err := os.Open(infile)
// ...
f, err := os.Create(outfile) // compile error: no new variables
```
